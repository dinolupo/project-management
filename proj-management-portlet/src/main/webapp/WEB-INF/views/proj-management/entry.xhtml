<?xml version="1.0"?>

<ui:component xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:alloy="http://liferay.com/faces/alloy">

<alloy:form>
    <c:choose>
        <c:when test="#{empty projectManagementBacking.selectedEntry.name}">
            <h3>#{i18n['new-entry']}</h3>
        </c:when>
        <c:otherwise>
            <h3>#{i18n['editing']} #{projectManagementBacking.selectedEntry.name}</h3>
        </c:otherwise>
    </c:choose>
    
    <alloy:fieldset>
    <alloy:field id="entryNameField" label="#{i18n['name']}">
        <alloy:inputText id="entryName" required="true" value="#{projectManagementBacking.selectedEntry.name}">
            <f:ajax render="entryNameField" />
        </alloy:inputText>
        <alloy:message for="entryName" />
    </alloy:field>
    
    <alloy:field id="entryMessageField" label="#{i18n['message']}">
        <alloy:inputTextarea id="entryMessage" required="true" value="#{projectManagementBacking.selectedEntry.value}">
            <f:ajax render="entryMessageField" />
        </alloy:inputTextarea>
        <alloy:message for="entryMessage" />
    </alloy:field>
</alloy:fieldset>

<alloy:commandButton action="#{entryBacking.save}" styleClass="btn btn-default" value="#{i18n['save']}">
        <f:ajax execute="@form" render="@all" />
    </alloy:commandButton>
    <alloy:commandButton action="#{entryBacking.cancel}" immediate="true" styleClass="btn btn-default" value="#{i18n['cancel']}">
        <f:ajax render="@all" />
    </alloy:commandButton>
</alloy:form>


</ui:component>